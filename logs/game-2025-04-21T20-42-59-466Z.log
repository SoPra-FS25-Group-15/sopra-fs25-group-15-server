=== GAME CLIENT LOG STARTED AT 2025-04-21T20:42:59.466Z ===

[2025-04-21T20:42:59.467Z] [INIT] Game client initialized. Logs will be written to: /home/dariast/SoPra/sopra-fs25-group-15-server/logs/game-2025-04-21T20-42-59-466Z.log
[2025-04-21T20:42:59.467Z] [INIT] Game states will be recorded in: /home/dariast/SoPra/sopra-fs25-group-15-server/logs/game-states-2025-04-21T20-42-59-466Z.json
[2025-04-21T20:42:59.468Z] [START] Starting game client
[2025-04-21T20:42:59.468Z] [INFO] Using tokens directly for authentication
[2025-04-21T20:42:59.468Z] [INFO] Creating lobby as player A...
[2025-04-21T20:42:59.511Z] [LOBBY] Lobby created: ID=1, CODE=46149 with maxPlayers=2
[2025-04-21T20:42:59.512Z] [SETUP] Setting global lobby ID: 1, joining code: 46149
[2025-04-21T20:42:59.512Z] [CONNECT] [A] Connecting to WebSocket...
[2025-04-21T20:42:59.512Z] [SETUP] [A] WebSocket client activated with token authentication
[2025-04-21T20:42:59.513Z] [CONNECT] [B] Connecting to WebSocket...
[2025-04-21T20:42:59.513Z] [SETUP] [B] WebSocket client activated with token authentication
[2025-04-21T20:42:59.563Z] [CONNECT] [B] CONNECTED to WebSocket server
[2025-04-21T20:42:59.564Z] [EVENT] Recorded game event: JOINING_LOBBY
{
  "player": "B",
  "code": "46149"
}

[2025-04-21T20:42:59.564Z] [INFO] [B] Joining lobby with code: 46149
[2025-04-21T20:42:59.564Z] [CONNECT] [A] CONNECTED to WebSocket server
[2025-04-21T20:42:59.628Z] [INFO] [B] <<< JOIN RESULT: JOIN_SUCCESS
[2025-04-21T20:42:59.629Z] [JOIN] [B] Player B join confirmed
[2025-04-21T20:42:59.629Z] [EVENT] Recorded game event: JOIN_SUCCESS
{
  "player": "B",
  "lobbyState": {
    "playerAJoined": true,
    "playerBJoined": true,
    "lobbyCreated": true,
    "gameStarted": false,
    "gameStartAttempted": false,
    "playerCount": 0,
    "maxPlayers": 2,
    "joinedPlayerTokens": [
      "40a28505-47d9-4690-8379-e469aeeb8ee2",
      "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
    ]
  }
}

[2025-04-21T20:42:59.629Z] [LOBBY] Lobby state after join success: playerAJoined=true, playerBJoined=true, count=2/2
[2025-04-21T20:42:59.631Z] [INFO] [A] <<< LOBBY USERS: USER_JOINED
[2025-04-21T20:42:59.631Z] [INFO] [A] User joined lobby: {"userid":5,"username":"ninana","mmr":0,"points":0,"email":"ninana@example.com"}
[2025-04-21T20:42:59.631Z] [JOIN] [A] Player A confirmed as joined to the lobby
[2025-04-21T20:42:59.631Z] [EVENT] Recorded game event: USER_JOINED
{
  "player": "A",
  "user": {
    "userid": 5,
    "username": "ninana",
    "mmr": 0,
    "points": 0,
    "email": "ninana@example.com"
  },
  "lobbyState": {
    "playerAJoined": true,
    "playerBJoined": true,
    "lobbyCreated": true,
    "gameStarted": false,
    "gameStartAttempted": false,
    "playerCount": 1,
    "maxPlayers": 2,
    "joinedPlayerTokens": [
      "40a28505-47d9-4690-8379-e469aeeb8ee2",
      "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
    ]
  }
}

[2025-04-21T20:42:59.631Z] [LOBBY] Lobby state after user joined: playerAJoined=true, playerBJoined=true, count=1/2
[2025-04-21T20:42:59.632Z] [INFO] [B] <<< LOBBY USERS: USER_JOINED
[2025-04-21T20:42:59.632Z] [INFO] [B] User joined lobby: {"userid":5,"username":"ninana","mmr":0,"points":0,"email":"ninana@example.com"}
[2025-04-21T20:42:59.632Z] [JOIN] [B] Player A confirmed as joined to the lobby
[2025-04-21T20:42:59.632Z] [EVENT] Recorded game event: USER_JOINED
{
  "player": "B",
  "user": {
    "userid": 5,
    "username": "ninana",
    "mmr": 0,
    "points": 0,
    "email": "ninana@example.com"
  },
  "lobbyState": {
    "playerAJoined": true,
    "playerBJoined": true,
    "lobbyCreated": true,
    "gameStarted": false,
    "gameStartAttempted": false,
    "playerCount": 2,
    "maxPlayers": 2,
    "joinedPlayerTokens": [
      "40a28505-47d9-4690-8379-e469aeeb8ee2",
      "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
    ]
  }
}

[2025-04-21T20:42:59.633Z] [LOBBY] Lobby state after user joined: playerAJoined=true, playerBJoined=true, count=2/2
[2025-04-21T20:43:01.633Z] [GAME] Starting game with lobby state: playerAJoined=true, playerBJoined=true, joinedPlayers=2/2
[2025-04-21T20:43:01.633Z] [INFO] [A] â–¶ STARTING GAME
[2025-04-21T20:43:01.633Z] [EVENT] Recorded game event: STARTING_GAME
{
  "player": "A",
  "lobbyState": {
    "playerAJoined": true,
    "playerBJoined": true,
    "lobbyCreated": true,
    "gameStarted": false,
    "gameStartAttempted": true,
    "playerCount": 2,
    "maxPlayers": 2,
    "joinedPlayerTokens": [
      "40a28505-47d9-4690-8379-e469aeeb8ee2",
      "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
    ]
  }
}

[2025-04-21T20:43:01.705Z] [INFO] [A] <<< ACTION CARD: ACTION_CARD_ASSIGNED
[2025-04-21T20:43:01.705Z] [INFO] [A] Received action card: 7choices
[2025-04-21T20:43:01.705Z] [EVENT] Recorded game event: ACTION_CARD_RECEIVED
{
  "player": "A",
  "cardId": "7choices",
  "type": "ACTION_CARD_ASSIGNED"
}

[2025-04-21T20:43:01.706Z] [INFO] [B] <<< ACTION CARD: ACTION_CARD_ASSIGNED
[2025-04-21T20:43:01.706Z] [INFO] [B] Received action card: 7choices
[2025-04-21T20:43:01.706Z] [EVENT] Recorded game event: ACTION_CARD_RECEIVED
{
  "player": "B",
  "cardId": "7choices",
  "type": "ACTION_CARD_ASSIGNED"
}

[2025-04-21T20:43:01.707Z] [DEBUG] [B] Raw WebSocket message: {"type":"GAME_START","payload":{"currentTurnPlayerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c"},"timestamp":"2025-04-21T20:43:01.704345877Z"}
[2025-04-21T20:43:01.707Z] [INFO] [B] <<< TOPIC: GAME_START
[2025-04-21T20:43:01.707Z] [EVENT] [B] Processing event type: GAME_START
[2025-04-21T20:43:01.707Z] [GAME] [B] Game started with initial state: {"currentTurnPlayerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c"}
[2025-04-21T20:43:01.708Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:01.708Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:43:01.708Z] [RESET] Reset all command locks for new round
[2025-04-21T20:43:01.708Z] [TIMER] Cleared all timers
[2025-04-21T20:43:01.708Z] [EVENT] Recorded game event: GAME_STARTED
{
  "player": "B",
  "initialState": {
    "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
  }
}

[2025-04-21T20:43:01.708Z] [DEBUG] [A] Raw WebSocket message: {"type":"GAME_START","payload":{"currentTurnPlayerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c"},"timestamp":"2025-04-21T20:43:01.704345877Z"}
[2025-04-21T20:43:01.708Z] [INFO] [A] <<< TOPIC: GAME_START
[2025-04-21T20:43:01.708Z] [EVENT] [A] Processing event type: GAME_START
[2025-04-21T20:43:01.708Z] [GAME] [A] Game started with initial state: {"currentTurnPlayerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c"}
[2025-04-21T20:43:01.708Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:01.708Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:43:01.708Z] [RESET] Reset all command locks for new round
[2025-04-21T20:43:01.708Z] [TIMER] Cleared all timers
[2025-04-21T20:43:01.708Z] [EVENT] Recorded game event: GAME_STARTED
{
  "player": "A",
  "initialState": {
    "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
  }
}

[2025-04-21T20:43:01.714Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:43:01.715Z] [STATE] [B] Updating game state
[2025-04-21T20:43:01.715Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:43:01.715Z] [TURN] [B] It's my turn to select a round card!
[2025-04-21T20:43:01.715Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "ROUNDCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-a923ed9f",
      "flash-a923ed9f"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "time": 0
  },
  "activeRoundCard": null,
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:01.715Z] [STATE] [B] Round card selection phase, submitter: ninana, active token: a923ed9f-3e5e-4ea4-b061-1f47d540b40c
[2025-04-21T20:43:01.716Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:43:01.716Z] [STATE] [B] Updating game state
[2025-04-21T20:43:01.716Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:43:01.716Z] [TURN] [B] It's my turn to select a round card!
[2025-04-21T20:43:01.716Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "ROUNDCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-a923ed9f",
      "flash-a923ed9f"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "time": 0
  },
  "activeRoundCard": null,
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:01.716Z] [STATE] [B] Round card selection phase, submitter: ninana, active token: a923ed9f-3e5e-4ea4-b061-1f47d540b40c
[2025-04-21T20:43:01.717Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:43:01.717Z] [STATE] [A] Updating game state
[2025-04-21T20:43:01.731Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:43:01.731Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "ROUNDCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "time": 0
  },
  "activeRoundCard": null,
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:01.731Z] [STATE] [A] Round card selection phase, submitter: ninana, active token: a923ed9f-3e5e-4ea4-b061-1f47d540b40c
[2025-04-21T20:43:01.732Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:43:01.732Z] [STATE] [A] Updating game state
[2025-04-21T20:43:01.732Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:43:01.732Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "ROUNDCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "time": 0
  },
  "activeRoundCard": null,
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:01.732Z] [STATE] [A] Round card selection phase, submitter: ninana, active token: a923ed9f-3e5e-4ea4-b061-1f47d540b40c
[2025-04-21T20:43:02.216Z] [GAME] [B] Selected round card: world-a923ed9f
[2025-04-21T20:43:02.217Z] [EVENT] Recorded game event: SELECTING_ROUND_CARD
{
  "player": "B",
  "roundCardId": "world-a923ed9f"
}

[2025-04-21T20:43:02.217Z] [GAME] [B] Sent round card selection: world-a923ed9f
[2025-04-21T20:43:02.218Z] [WARN] [B] Round card selection already in progress
[2025-04-21T20:43:02.626Z] [DEBUG] [B] Raw WebSocket message: {"type":"ROUND_CARD_SELECTED","payload":{"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"world-a923ed9f","name":"World","description":"The round includes the full available coverage","modifiers":{"guessType":"Precise","streetView":"Standard","time":60}}},"timestamp":"2025-04-21T20:43:02.620512911Z"}
[2025-04-21T20:43:02.626Z] [INFO] [B] <<< TOPIC: ROUND_CARD_SELECTED
[2025-04-21T20:43:02.626Z] [EVENT] [B] Processing event type: ROUND_CARD_SELECTED
[2025-04-21T20:43:02.626Z] [GAME] [B] Round card selected: {"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"world-a923ed9f","name":"World","description":"The round includes the full available coverage","modifiers":{"guessType":"Precise","streetView":"Standard","time":60}}}
[2025-04-21T20:43:02.627Z] [EVENT] Recorded game event: ROUND_CARD_SELECTED
{
  "player": "B",
  "roundCard": {
    "id": "world-a923ed9f",
    "name": "World",
    "description": "The round includes the full available coverage",
    "modifiers": {
      "guessType": "Precise",
      "streetView": "Standard",
      "time": 60
    }
  },
  "username": "ninana"
}

[2025-04-21T20:43:02.628Z] [DEBUG] [A] Raw WebSocket message: {"type":"ROUND_CARD_SELECTED","payload":{"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"world-a923ed9f","name":"World","description":"The round includes the full available coverage","modifiers":{"guessType":"Precise","streetView":"Standard","time":60}}},"timestamp":"2025-04-21T20:43:02.620512911Z"}
[2025-04-21T20:43:02.628Z] [INFO] [A] <<< TOPIC: ROUND_CARD_SELECTED
[2025-04-21T20:43:02.628Z] [EVENT] [A] Processing event type: ROUND_CARD_SELECTED
[2025-04-21T20:43:02.628Z] [GAME] [A] Round card selected: {"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"world-a923ed9f","name":"World","description":"The round includes the full available coverage","modifiers":{"guessType":"Precise","streetView":"Standard","time":60}}}
[2025-04-21T20:43:02.628Z] [EVENT] Recorded game event: ROUND_CARD_SELECTED
{
  "player": "A",
  "roundCard": {
    "id": "world-a923ed9f",
    "name": "World",
    "description": "The round includes the full available coverage",
    "modifiers": {
      "guessType": "Precise",
      "streetView": "Standard",
      "time": 60
    }
  },
  "username": "ninana"
}

[2025-04-21T20:43:02.635Z] [RETRY] [A] Requesting game state update (1000ms after start)
[2025-04-21T20:43:03.133Z] [DEBUG] [B] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"roundCardComplete":true,"screen":"ACTIONCARD"},"timestamp":"2025-04-21T20:43:03.124985516Z"}
[2025-04-21T20:43:03.133Z] [INFO] [B] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:43:03.133Z] [EVENT] [B] Processing event type: SCREEN_CHANGE
[2025-04-21T20:43:03.133Z] [TRANSITION] [B] Received SCREEN_CHANGE to: ACTIONCARD
[2025-04-21T20:43:03.133Z] [TIMER] Cleared all timers
[2025-04-21T20:43:03.133Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:03.133Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "B",
  "screen": "ACTIONCARD",
  "payload": {
    "roundCardComplete": true,
    "screen": "ACTIONCARD"
  }
}

[2025-04-21T20:43:03.137Z] [DEBUG] [A] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"roundCardComplete":true,"screen":"ACTIONCARD"},"timestamp":"2025-04-21T20:43:03.124985516Z"}
[2025-04-21T20:43:03.145Z] [INFO] [A] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:43:03.145Z] [EVENT] [A] Processing event type: SCREEN_CHANGE
[2025-04-21T20:43:03.145Z] [TRANSITION] [A] Received SCREEN_CHANGE to: ACTIONCARD
[2025-04-21T20:43:03.146Z] [TIMER] Cleared all timers
[2025-04-21T20:43:03.146Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:03.146Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "A",
  "screen": "ACTIONCARD",
  "payload": {
    "roundCardComplete": true,
    "screen": "ACTIONCARD"
  }
}

[2025-04-21T20:43:03.147Z] [DEBUG] [B] Raw WebSocket message: {"type":"ACTION_CARD_PHASE_START","payload":{"timeLimit":60,"coordinates":{"longitude":114.4077367,"latitude":-14.0206667}},"timestamp":"2025-04-21T20:43:03.128633561Z"}
[2025-04-21T20:43:03.147Z] [INFO] [B] <<< TOPIC: ACTION_CARD_PHASE_START
[2025-04-21T20:43:03.147Z] [EVENT] [B] Processing event type: ACTION_CARD_PHASE_START
[2025-04-21T20:43:03.147Z] [GAME] [B] Action card phase started with time limit: 60s
[2025-04-21T20:43:03.147Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:03.147Z] [EVENT] Recorded game event: ACTION_CARD_PHASE_START
{
  "player": "B",
  "timeLimit": 60,
  "coordinates": {
    "longitude": 114.4077367,
    "latitude": -14.0206667
  }
}

[2025-04-21T20:43:03.148Z] [DEBUG] [A] Raw WebSocket message: {"type":"ACTION_CARD_PHASE_START","payload":{"timeLimit":60,"coordinates":{"longitude":114.4077367,"latitude":-14.0206667}},"timestamp":"2025-04-21T20:43:03.128633561Z"}
[2025-04-21T20:43:03.148Z] [INFO] [A] <<< TOPIC: ACTION_CARD_PHASE_START
[2025-04-21T20:43:03.148Z] [EVENT] [A] Processing event type: ACTION_CARD_PHASE_START
[2025-04-21T20:43:03.148Z] [GAME] [A] Action card phase started with time limit: 60s
[2025-04-21T20:43:03.148Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:03.148Z] [EVENT] Recorded game event: ACTION_CARD_PHASE_START
{
  "player": "A",
  "timeLimit": 60,
  "coordinates": {
    "longitude": 114.4077367,
    "latitude": -14.0206667
  }
}

[2025-04-21T20:43:03.148Z] [TIMER] [A] Setting up action card phase timer for 8s
[2025-04-21T20:43:03.150Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:43:03.151Z] [STATE] [B] Updating game state
[2025-04-21T20:43:03.151Z] [STATE] [B] Active round card updated to: world-a923ed9f
[2025-04-21T20:43:03.151Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:43:03.151Z] [STATE] [B] Guess location updated: lat=-14.0206667, lon=114.4077367
[2025-04-21T20:43:03.151Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "ACTIONCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 1,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "flash-a923ed9f"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 114.4077367,
      "lat": -14.0206667
    },
    "time": 60
  },
  "activeRoundCard": "world-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:03.151Z] [STATE] [B] Action card playing phase, active round card: world-a923ed9f
[2025-04-21T20:43:03.151Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:43:03.151Z] [STATE] [A] Updating game state
[2025-04-21T20:43:03.152Z] [STATE] [A] Active round card updated to: world-a923ed9f
[2025-04-21T20:43:03.152Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:43:03.152Z] [STATE] [A] Guess location updated: lat=-14.0206667, lon=114.4077367
[2025-04-21T20:43:03.152Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "ACTIONCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 1,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 114.4077367,
      "lat": -14.0206667
    },
    "time": 60
  },
  "activeRoundCard": "world-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:03.152Z] [STATE] [A] Action card playing phase, active round card: world-a923ed9f
[2025-04-21T20:43:03.635Z] [RETRY] [A] Requesting game state update (2000ms after start)
[2025-04-21T20:43:04.134Z] [GAME] [B] Have action card: 7choices
[2025-04-21T20:43:04.135Z] [EVENT] Recorded game event: PLAYING_ACTION_CARD
{
  "player": "B",
  "actionCardId": "7choices"
}

[2025-04-21T20:43:04.135Z] [GAME] [B] Sent action card play: {"actionCardId":"7choices"}
[2025-04-21T20:43:04.146Z] [GAME] [A] Have action card: 7choices
[2025-04-21T20:43:04.146Z] [EVENT] Recorded game event: PLAYING_ACTION_CARD
{
  "player": "A",
  "actionCardId": "7choices"
}

[2025-04-21T20:43:04.146Z] [GAME] [A] Sent action card play: {"actionCardId":"7choices"}
[2025-04-21T20:43:04.152Z] [WARN] [B] Action card play already in progress
[2025-04-21T20:43:04.152Z] [WARN] [A] Action card play already in progress
[2025-04-21T20:43:04.420Z] [WARN] [B] Action card play already in progress
[2025-04-21T20:43:04.982Z] [WARN] [A] Action card play already in progress
[2025-04-21T20:43:05.635Z] [RETRY] [A] Requesting game state update (4000ms after start)
[2025-04-21T20:43:09.137Z] [TIMEOUT] [B] Releasing action card play lock after timeout
[2025-04-21T20:43:09.147Z] [TIMEOUT] [A] Releasing action card play lock after timeout
[2025-04-21T20:43:09.634Z] [RETRY] [A] Requesting game state update (8000ms after start)
[2025-04-21T20:43:11.150Z] [PHASE] [A] Signaling action cards complete to transition to guessing phase
[2025-04-21T20:43:11.151Z] [EVENT] Recorded game event: ACTION_CARDS_COMPLETE
{
  "player": "A"
}

[2025-04-21T20:43:11.151Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:43:11.169Z] [DEBUG] [B] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"actionCardsComplete":true,"screen":"GUESS"},"timestamp":"2025-04-21T20:43:11.161475232Z"}
[2025-04-21T20:43:11.169Z] [INFO] [B] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:43:11.169Z] [EVENT] [B] Processing event type: SCREEN_CHANGE
[2025-04-21T20:43:11.169Z] [TRANSITION] [B] Received SCREEN_CHANGE to: GUESS
[2025-04-21T20:43:11.170Z] [TIMER] Cleared all timers
[2025-04-21T20:43:11.170Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:43:11.170Z] [TRANSITION] [B] Transitioning to guessing phase after action cards complete
[2025-04-21T20:43:11.170Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "B",
  "screen": "GUESS",
  "payload": {
    "actionCardsComplete": true,
    "screen": "GUESS"
  }
}

[2025-04-21T20:43:11.170Z] [DEBUG] [A] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"actionCardsComplete":true,"screen":"GUESS"},"timestamp":"2025-04-21T20:43:11.161475232Z"}
[2025-04-21T20:43:11.171Z] [INFO] [A] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:43:11.171Z] [EVENT] [A] Processing event type: SCREEN_CHANGE
[2025-04-21T20:43:11.171Z] [TRANSITION] [A] Received SCREEN_CHANGE to: GUESS
[2025-04-21T20:43:11.171Z] [TIMER] Cleared all timers
[2025-04-21T20:43:11.171Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:43:11.171Z] [TRANSITION] [A] Transitioning to guessing phase after action cards complete
[2025-04-21T20:43:11.171Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "A",
  "screen": "GUESS",
  "payload": {
    "actionCardsComplete": true,
    "screen": "GUESS"
  }
}

[2025-04-21T20:43:11.171Z] [DEBUG] [B] Raw WebSocket message: {"type":"ROUND_START","payload":{"startGuessTimer":true,"activeActionCards":{"a923ed9f-3e5e-4ea4-b061-1f47d540b40c":[],"40a28505-47d9-4690-8379-e469aeeb8ee2":[]},"roundData":{"round":1,"latitude":-14.0206667,"longitude":114.4077367,"roundTime":60,"startTimer":true}},"timestamp":"2025-04-21T20:43:11.166378255Z"}
[2025-04-21T20:43:11.172Z] [INFO] [B] <<< TOPIC: ROUND_START
[2025-04-21T20:43:11.172Z] [EVENT] [B] Processing event type: ROUND_START
[2025-04-21T20:43:11.172Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:43:11.172Z] [GAME] [B] Round 1 started with coords: -14.0206667, 114.4077367, time: 60s
[2025-04-21T20:43:11.172Z] [EVENT] Recorded game event: ROUND_STARTED
{
  "player": "B",
  "round": 1,
  "time": 60,
  "coordinates": {
    "lat": -14.0206667,
    "lon": 114.4077367
  },
  "activeActionCards": {
    "a923ed9f-3e5e-4ea4-b061-1f47d540b40c": [],
    "40a28505-47d9-4690-8379-e469aeeb8ee2": []
  }
}

[2025-04-21T20:43:11.175Z] [DEBUG] [A] Raw WebSocket message: {"type":"ROUND_START","payload":{"startGuessTimer":true,"activeActionCards":{"a923ed9f-3e5e-4ea4-b061-1f47d540b40c":[],"40a28505-47d9-4690-8379-e469aeeb8ee2":[]},"roundData":{"round":1,"latitude":-14.0206667,"longitude":114.4077367,"roundTime":60,"startTimer":true}},"timestamp":"2025-04-21T20:43:11.166378255Z"}
[2025-04-21T20:43:11.175Z] [INFO] [A] <<< TOPIC: ROUND_START
[2025-04-21T20:43:11.175Z] [EVENT] [A] Processing event type: ROUND_START
[2025-04-21T20:43:11.176Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:43:11.176Z] [GAME] [A] Round 1 started with coords: -14.0206667, 114.4077367, time: 60s
[2025-04-21T20:43:11.176Z] [EVENT] Recorded game event: ROUND_STARTED
{
  "player": "A",
  "round": 1,
  "time": 60,
  "coordinates": {
    "lat": -14.0206667,
    "lon": 114.4077367
  },
  "activeActionCards": {
    "a923ed9f-3e5e-4ea4-b061-1f47d540b40c": [],
    "40a28505-47d9-4690-8379-e469aeeb8ee2": []
  }
}

[2025-04-21T20:43:11.176Z] [TIMER] [A] Starting guess timer for 60 seconds (startGuessTimer flag received)
[2025-04-21T20:43:11.176Z] [TIMER] Starting guess timer with 60 seconds
[2025-04-21T20:43:11.176Z] [EVENT] Recorded game event: GUESS_TIMER_STARTED
{
  "timeLimit": 60,
  "timestamp": 1745268191176
}

[2025-04-21T20:43:11.176Z] [TIMER] [A] Setting timer to signal round time expired in 61s
[2025-04-21T20:43:11.178Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:43:11.178Z] [STATE] [A] Updating game state
[2025-04-21T20:43:11.178Z] [STATE] [A] Active round card updated to: world-a923ed9f
[2025-04-21T20:43:11.178Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:43:11.178Z] [STATE] [A] Guess location updated: lat=-14.0206667, lon=114.4077367
[2025-04-21T20:43:11.178Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "GUESS",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 1,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 114.4077367,
      "lat": -14.0206667
    },
    "time": 60
  },
  "activeRoundCard": "world-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:11.178Z] [STATE] [A] Guessing phase, time: 60s, coords: -14.0206667,114.4077367
[2025-04-21T20:43:11.178Z] [TIMER] [A] Will submit automatic guess in 3.5916133560441885s
[2025-04-21T20:43:11.178Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:43:11.178Z] [STATE] [B] Updating game state
[2025-04-21T20:43:11.178Z] [STATE] [B] Active round card updated to: world-a923ed9f
[2025-04-21T20:43:11.178Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:43:11.178Z] [STATE] [B] Guess location updated: lat=-14.0206667, lon=114.4077367
[2025-04-21T20:43:11.178Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "GUESS",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 1,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "flash-a923ed9f"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 114.4077367,
      "lat": -14.0206667
    },
    "time": 60
  },
  "activeRoundCard": "world-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:43:11.179Z] [STATE] [B] Guessing phase, time: 60s, coords: -14.0206667,114.4077367
[2025-04-21T20:43:11.179Z] [TIMER] [B] Will submit automatic guess in 2.277921669195478s
[2025-04-21T20:43:13.456Z] [GUESS] [B] Submitting automatic guess: -11.530830857225547, 116.89757254277445
[2025-04-21T20:43:13.457Z] [EVENT] Recorded game event: SUBMITTING_GUESS
{
  "player": "B",
  "latitude": -11.530830857225547,
  "longitude": 116.89757254277445
}

[2025-04-21T20:43:14.770Z] [GUESS] [A] Submitting automatic guess: -5.742098096549864, 122.68630530345014
[2025-04-21T20:43:14.770Z] [EVENT] Recorded game event: SUBMITTING_GUESS
{
  "player": "A",
  "latitude": -5.742098096549864,
  "longitude": 122.68630530345014
}

[2025-04-21T20:43:16.179Z] [TIMER] Guess timer: 55s remaining
[2025-04-21T20:43:21.185Z] [TIMER] Guess timer: 50s remaining
[2025-04-21T20:43:26.191Z] [TIMER] Guess timer: 45s remaining
[2025-04-21T20:43:31.194Z] [TIMER] Guess timer: 40s remaining
[2025-04-21T20:43:36.201Z] [TIMER] Guess timer: 35s remaining
[2025-04-21T20:43:41.207Z] [TIMER] Guess timer: 30s remaining
[2025-04-21T20:43:46.212Z] [TIMER] Guess timer: 25s remaining
[2025-04-21T20:43:51.217Z] [TIMER] Guess timer: 20s remaining
[2025-04-21T20:43:56.224Z] [TIMER] Guess timer: 15s remaining
[2025-04-21T20:44:01.229Z] [TIMER] Guess timer: 10s remaining
[2025-04-21T20:44:06.234Z] [TIMER] Guess timer: 5s remaining
[2025-04-21T20:44:07.234Z] [TIMER] Guess timer: 4s remaining
[2025-04-21T20:44:08.236Z] [TIMER] Guess timer: 3s remaining
[2025-04-21T20:44:09.238Z] [TIMER] Guess timer: 2s remaining
[2025-04-21T20:44:10.238Z] [TIMER] Guess timer: 1s remaining
[2025-04-21T20:44:11.238Z] [TIMER] Guess timer: 0s remaining
[2025-04-21T20:44:11.238Z] [TIMER] Guess timer expired!
[2025-04-21T20:44:12.178Z] [PHASE] [A] Signaling round time expired to determine round winner
[2025-04-21T20:44:12.178Z] [EVENT] Recorded game event: ROUND_TIME_EXPIRED
{
  "player": "A"
}

[2025-04-21T20:44:12.679Z] [PHASE] [A] Sent round-time-expired message to server
[2025-04-21T20:44:12.698Z] [DEBUG] [B] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":174.4077367,"distance":7865230,"username":"wini","latitude":25.9793333,"round":1},"timestamp":"2025-04-21T20:44:12.695684583Z"}
[2025-04-21T20:44:12.699Z] [INFO] [B] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:12.699Z] [EVENT] [B] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.699Z] [WARN] [B] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.706Z] [DEBUG] [A] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":174.4077367,"distance":7865230,"username":"wini","latitude":25.9793333,"round":1},"timestamp":"2025-04-21T20:44:12.695684583Z"}
[2025-04-21T20:44:12.706Z] [INFO] [A] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:12.706Z] [EVENT] [A] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.706Z] [WARN] [A] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.708Z] [DEBUG] [B] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":174.4077367,"distance":7865230,"username":"ninana","latitude":25.9793333,"round":1},"timestamp":"2025-04-21T20:44:12.701376451Z"}
[2025-04-21T20:44:12.708Z] [INFO] [B] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:12.708Z] [EVENT] [B] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.708Z] [WARN] [B] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.708Z] [DEBUG] [A] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":174.4077367,"distance":7865230,"username":"ninana","latitude":25.9793333,"round":1},"timestamp":"2025-04-21T20:44:12.701376451Z"}
[2025-04-21T20:44:12.708Z] [INFO] [A] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:12.708Z] [EVENT] [A] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.708Z] [WARN] [A] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:12.710Z] [DEBUG] [B] Raw WebSocket message: {"type":"ROUND_WINNER","winnerUsername":"ninana","round":1,"distance":7865230}
[2025-04-21T20:44:12.711Z] [BROADCAST] [B] <<< STRUCTURED BROADCAST: ROUND_WINNER
[2025-04-21T20:44:12.711Z] [EVENT] [B] Processing event type: ROUND_WINNER
[2025-04-21T20:44:12.711Z] [GAME] [B] Round winner: ninana with distance 7865230m in round 1
[2025-04-21T20:44:12.711Z] [EVENT] Recorded game event: ROUND_WINNER
{
  "player": "B",
  "username": "ninana",
  "round": 1,
  "distance": 7865230
}

[2025-04-21T20:44:12.711Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:12.711Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:12.711Z] [RESET] Reset all command locks for new round
[2025-04-21T20:44:12.711Z] [TIMER] Cleared all timers
[2025-04-21T20:44:12.714Z] [DEBUG] [A] Raw WebSocket message: {"type":"ROUND_WINNER","winnerUsername":"ninana","round":1,"distance":7865230}
[2025-04-21T20:44:12.715Z] [BROADCAST] [A] <<< STRUCTURED BROADCAST: ROUND_WINNER
[2025-04-21T20:44:12.715Z] [EVENT] [A] Processing event type: ROUND_WINNER
[2025-04-21T20:44:12.715Z] [GAME] [A] Round winner: ninana with distance 7865230m in round 1
[2025-04-21T20:44:12.715Z] [EVENT] Recorded game event: ROUND_WINNER
{
  "player": "A",
  "username": "ninana",
  "round": 1,
  "distance": 7865230
}

[2025-04-21T20:44:12.715Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:12.715Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:12.715Z] [RESET] Reset all command locks for new round
[2025-04-21T20:44:12.715Z] [TIMER] Cleared all timers
[2025-04-21T20:44:12.716Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:44:12.716Z] [STATE] [A] Updating game state
[2025-04-21T20:44:12.716Z] [TIMER] Cleared all timers
[2025-04-21T20:44:12.716Z] [TRANSITION] [A] Screen transition: REVEAL -> ROUNDCARD
[2025-04-21T20:44:12.716Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:44:12.716Z] [STATE] [A] Guess location updated: lat=-14.0206667, lon=114.4077367
[2025-04-21T20:44:12.716Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "ROUNDCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 1,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 114.4077367,
      "lat": -14.0206667
    },
    "time": 60
  },
  "activeRoundCard": null,
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:12.718Z] [STATE] [A] Round card selection phase, submitter: ninana, active token: a923ed9f-3e5e-4ea4-b061-1f47d540b40c
[2025-04-21T20:44:12.724Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:44:12.724Z] [STATE] [B] Updating game state
[2025-04-21T20:44:12.724Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:44:12.724Z] [STATE] [B] Guess location updated: lat=-14.0206667, lon=114.4077367
[2025-04-21T20:44:12.724Z] [TURN] [B] It's my turn to select a round card!
[2025-04-21T20:44:12.724Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "ROUNDCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 1,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "flash-a923ed9f"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 114.4077367,
      "lat": -14.0206667
    },
    "time": 60
  },
  "activeRoundCard": null,
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:12.725Z] [STATE] [B] Round card selection phase, submitter: ninana, active token: a923ed9f-3e5e-4ea4-b061-1f47d540b40c
[2025-04-21T20:44:13.224Z] [GAME] [B] Selected round card: flash-a923ed9f
[2025-04-21T20:44:13.225Z] [EVENT] Recorded game event: SELECTING_ROUND_CARD
{
  "player": "B",
  "roundCardId": "flash-a923ed9f"
}

[2025-04-21T20:44:13.226Z] [GAME] [B] Sent round card selection: flash-a923ed9f
[2025-04-21T20:44:13.427Z] [DEBUG] [B] Raw WebSocket message: {"type":"ROUND_CARD_SELECTED","payload":{"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"flash-a923ed9f","name":"Flash","description":"The round includes the full available coverage, but the round time is halved","modifiers":{"guessType":"Precise","streetView":"Standard","time":30}}},"timestamp":"2025-04-21T20:44:13.425366954Z"}
[2025-04-21T20:44:13.427Z] [INFO] [B] <<< TOPIC: ROUND_CARD_SELECTED
[2025-04-21T20:44:13.427Z] [EVENT] [B] Processing event type: ROUND_CARD_SELECTED
[2025-04-21T20:44:13.427Z] [GAME] [B] Round card selected: {"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"flash-a923ed9f","name":"Flash","description":"The round includes the full available coverage, but the round time is halved","modifiers":{"guessType":"Precise","streetView":"Standard","time":30}}}
[2025-04-21T20:44:13.428Z] [EVENT] Recorded game event: ROUND_CARD_SELECTED
{
  "player": "B",
  "roundCard": {
    "id": "flash-a923ed9f",
    "name": "Flash",
    "description": "The round includes the full available coverage, but the round time is halved",
    "modifiers": {
      "guessType": "Precise",
      "streetView": "Standard",
      "time": 30
    }
  },
  "username": "ninana"
}

[2025-04-21T20:44:13.433Z] [DEBUG] [A] Raw WebSocket message: {"type":"ROUND_CARD_SELECTED","payload":{"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"flash-a923ed9f","name":"Flash","description":"The round includes the full available coverage, but the round time is halved","modifiers":{"guessType":"Precise","streetView":"Standard","time":30}}},"timestamp":"2025-04-21T20:44:13.425366954Z"}
[2025-04-21T20:44:13.433Z] [INFO] [A] <<< TOPIC: ROUND_CARD_SELECTED
[2025-04-21T20:44:13.433Z] [EVENT] [A] Processing event type: ROUND_CARD_SELECTED
[2025-04-21T20:44:13.433Z] [GAME] [A] Round card selected: {"playerToken":"a923ed9f-3e5e-4ea4-b061-1f47d540b40c","username":"ninana","roundCard":{"id":"flash-a923ed9f","name":"Flash","description":"The round includes the full available coverage, but the round time is halved","modifiers":{"guessType":"Precise","streetView":"Standard","time":30}}}
[2025-04-21T20:44:13.433Z] [EVENT] Recorded game event: ROUND_CARD_SELECTED
{
  "player": "A",
  "roundCard": {
    "id": "flash-a923ed9f",
    "name": "Flash",
    "description": "The round includes the full available coverage, but the round time is halved",
    "modifiers": {
      "guessType": "Precise",
      "streetView": "Standard",
      "time": 30
    }
  },
  "username": "ninana"
}

[2025-04-21T20:44:13.939Z] [DEBUG] [B] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"roundCardComplete":true,"screen":"ACTIONCARD"},"timestamp":"2025-04-21T20:44:13.926586740Z"}
[2025-04-21T20:44:13.940Z] [INFO] [B] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:44:13.940Z] [EVENT] [B] Processing event type: SCREEN_CHANGE
[2025-04-21T20:44:13.940Z] [TRANSITION] [B] Received SCREEN_CHANGE to: ACTIONCARD
[2025-04-21T20:44:13.940Z] [TIMER] Cleared all timers
[2025-04-21T20:44:13.940Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:13.940Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "B",
  "screen": "ACTIONCARD",
  "payload": {
    "roundCardComplete": true,
    "screen": "ACTIONCARD"
  }
}

[2025-04-21T20:44:13.945Z] [DEBUG] [A] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"roundCardComplete":true,"screen":"ACTIONCARD"},"timestamp":"2025-04-21T20:44:13.926586740Z"}
[2025-04-21T20:44:13.945Z] [INFO] [A] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:44:13.945Z] [EVENT] [A] Processing event type: SCREEN_CHANGE
[2025-04-21T20:44:13.945Z] [TRANSITION] [A] Received SCREEN_CHANGE to: ACTIONCARD
[2025-04-21T20:44:13.945Z] [TIMER] Cleared all timers
[2025-04-21T20:44:13.945Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:13.945Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "A",
  "screen": "ACTIONCARD",
  "payload": {
    "roundCardComplete": true,
    "screen": "ACTIONCARD"
  }
}

[2025-04-21T20:44:13.954Z] [DEBUG] [B] Raw WebSocket message: {"type":"ACTION_CARD_PHASE_START","payload":{"timeLimit":30,"coordinates":{"longitude":48.73125899999999,"latitude":-62.97541639999999}},"timestamp":"2025-04-21T20:44:13.933120827Z"}
[2025-04-21T20:44:13.954Z] [INFO] [B] <<< TOPIC: ACTION_CARD_PHASE_START
[2025-04-21T20:44:13.954Z] [EVENT] [B] Processing event type: ACTION_CARD_PHASE_START
[2025-04-21T20:44:13.955Z] [GAME] [B] Action card phase started with time limit: 30s
[2025-04-21T20:44:13.955Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:13.955Z] [EVENT] Recorded game event: ACTION_CARD_PHASE_START
{
  "player": "B",
  "timeLimit": 30,
  "coordinates": {
    "longitude": 48.73125899999999,
    "latitude": -62.97541639999999
  }
}

[2025-04-21T20:44:13.957Z] [DEBUG] [A] Raw WebSocket message: {"type":"ACTION_CARD_PHASE_START","payload":{"timeLimit":30,"coordinates":{"longitude":48.73125899999999,"latitude":-62.97541639999999}},"timestamp":"2025-04-21T20:44:13.933120827Z"}
[2025-04-21T20:44:13.958Z] [INFO] [A] <<< TOPIC: ACTION_CARD_PHASE_START
[2025-04-21T20:44:13.958Z] [EVENT] [A] Processing event type: ACTION_CARD_PHASE_START
[2025-04-21T20:44:13.958Z] [GAME] [A] Action card phase started with time limit: 30s
[2025-04-21T20:44:13.958Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:13.958Z] [EVENT] Recorded game event: ACTION_CARD_PHASE_START
{
  "player": "A",
  "timeLimit": 30,
  "coordinates": {
    "longitude": 48.73125899999999,
    "latitude": -62.97541639999999
  }
}

[2025-04-21T20:44:13.958Z] [TIMER] [A] Setting up action card phase timer for 8s
[2025-04-21T20:44:13.959Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:44:13.959Z] [STATE] [B] Updating game state
[2025-04-21T20:44:13.959Z] [STATE] [B] Active round card updated to: flash-a923ed9f
[2025-04-21T20:44:13.960Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:44:13.960Z] [STATE] [B] Guess location updated: lat=-62.97541639999999, lon=48.73125899999999
[2025-04-21T20:44:13.960Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "ACTIONCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 0,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 48.73125899999999,
      "lat": -62.97541639999999
    },
    "time": 30
  },
  "activeRoundCard": "flash-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:13.960Z] [STATE] [B] Action card playing phase, active round card: flash-a923ed9f
[2025-04-21T20:44:13.960Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:44:13.960Z] [STATE] [A] Updating game state
[2025-04-21T20:44:13.960Z] [STATE] [A] Active round card updated to: flash-a923ed9f
[2025-04-21T20:44:13.960Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:44:13.960Z] [STATE] [A] Guess location updated: lat=-62.97541639999999, lon=48.73125899999999
[2025-04-21T20:44:13.960Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "ACTIONCARD",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 0,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 48.73125899999999,
      "lat": -62.97541639999999
    },
    "time": 30
  },
  "activeRoundCard": "flash-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:13.961Z] [STATE] [A] Action card playing phase, active round card: flash-a923ed9f
[2025-04-21T20:44:14.942Z] [GAME] [B] Have action card: 7choices
[2025-04-21T20:44:14.942Z] [EVENT] Recorded game event: PLAYING_ACTION_CARD
{
  "player": "B",
  "actionCardId": "7choices"
}

[2025-04-21T20:44:14.943Z] [GAME] [B] Sent action card play: {"actionCardId":"7choices"}
[2025-04-21T20:44:14.945Z] [GAME] [A] Have action card: 7choices
[2025-04-21T20:44:14.946Z] [EVENT] Recorded game event: PLAYING_ACTION_CARD
{
  "player": "A",
  "actionCardId": "7choices"
}

[2025-04-21T20:44:14.946Z] [GAME] [A] Sent action card play: {"actionCardId":"7choices"}
[2025-04-21T20:44:14.961Z] [WARN] [B] Action card play already in progress
[2025-04-21T20:44:14.961Z] [WARN] [A] Action card play already in progress
[2025-04-21T20:44:15.098Z] [WARN] [A] Action card play already in progress
[2025-04-21T20:44:15.924Z] [WARN] [B] Action card play already in progress
[2025-04-21T20:44:19.943Z] [TIMEOUT] [B] Releasing action card play lock after timeout
[2025-04-21T20:44:19.946Z] [TIMEOUT] [A] Releasing action card play lock after timeout
[2025-04-21T20:44:21.959Z] [PHASE] [A] Signaling action cards complete to transition to guessing phase
[2025-04-21T20:44:21.959Z] [EVENT] Recorded game event: ACTION_CARDS_COMPLETE
{
  "player": "A"
}

[2025-04-21T20:44:21.960Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:21.976Z] [DEBUG] [B] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"actionCardsComplete":true,"screen":"GUESS"},"timestamp":"2025-04-21T20:44:21.968273485Z"}
[2025-04-21T20:44:21.976Z] [INFO] [B] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:44:21.976Z] [EVENT] [B] Processing event type: SCREEN_CHANGE
[2025-04-21T20:44:21.976Z] [TRANSITION] [B] Received SCREEN_CHANGE to: GUESS
[2025-04-21T20:44:21.976Z] [TIMER] Cleared all timers
[2025-04-21T20:44:21.977Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:21.977Z] [TRANSITION] [B] Transitioning to guessing phase after action cards complete
[2025-04-21T20:44:21.977Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "B",
  "screen": "GUESS",
  "payload": {
    "actionCardsComplete": true,
    "screen": "GUESS"
  }
}

[2025-04-21T20:44:21.982Z] [DEBUG] [A] Raw WebSocket message: {"type":"SCREEN_CHANGE","payload":{"actionCardsComplete":true,"screen":"GUESS"},"timestamp":"2025-04-21T20:44:21.968273485Z"}
[2025-04-21T20:44:21.982Z] [INFO] [A] <<< TOPIC: SCREEN_CHANGE
[2025-04-21T20:44:21.982Z] [EVENT] [A] Processing event type: SCREEN_CHANGE
[2025-04-21T20:44:21.982Z] [TRANSITION] [A] Received SCREEN_CHANGE to: GUESS
[2025-04-21T20:44:21.982Z] [TIMER] Cleared all timers
[2025-04-21T20:44:21.982Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:21.982Z] [TRANSITION] [A] Transitioning to guessing phase after action cards complete
[2025-04-21T20:44:21.982Z] [EVENT] Recorded game event: SCREEN_CHANGED
{
  "player": "A",
  "screen": "GUESS",
  "payload": {
    "actionCardsComplete": true,
    "screen": "GUESS"
  }
}

[2025-04-21T20:44:21.984Z] [DEBUG] [B] Raw WebSocket message: {"type":"ROUND_START","payload":{"startGuessTimer":true,"activeActionCards":{"a923ed9f-3e5e-4ea4-b061-1f47d540b40c":[],"40a28505-47d9-4690-8379-e469aeeb8ee2":[]},"roundData":{"round":1,"latitude":-62.97541639999999,"longitude":48.73125899999999,"roundTime":30,"startTimer":true}},"timestamp":"2025-04-21T20:44:21.974461389Z"}
[2025-04-21T20:44:21.984Z] [INFO] [B] <<< TOPIC: ROUND_START
[2025-04-21T20:44:21.984Z] [EVENT] [B] Processing event type: ROUND_START
[2025-04-21T20:44:21.984Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:21.984Z] [GAME] [B] Round 1 started with coords: -62.97541639999999, 48.73125899999999, time: 30s
[2025-04-21T20:44:21.984Z] [EVENT] Recorded game event: ROUND_STARTED
{
  "player": "B",
  "round": 1,
  "time": 30,
  "coordinates": {
    "lat": -62.97541639999999,
    "lon": 48.73125899999999
  },
  "activeActionCards": {
    "a923ed9f-3e5e-4ea4-b061-1f47d540b40c": [],
    "40a28505-47d9-4690-8379-e469aeeb8ee2": []
  }
}

[2025-04-21T20:44:21.985Z] [DEBUG] [A] Raw WebSocket message: {"type":"ROUND_START","payload":{"startGuessTimer":true,"activeActionCards":{"a923ed9f-3e5e-4ea4-b061-1f47d540b40c":[],"40a28505-47d9-4690-8379-e469aeeb8ee2":[]},"roundData":{"round":1,"latitude":-62.97541639999999,"longitude":48.73125899999999,"roundTime":30,"startTimer":true}},"timestamp":"2025-04-21T20:44:21.974461389Z"}
[2025-04-21T20:44:21.986Z] [INFO] [A] <<< TOPIC: ROUND_START
[2025-04-21T20:44:21.986Z] [EVENT] [A] Processing event type: ROUND_START
[2025-04-21T20:44:21.986Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:21.986Z] [GAME] [A] Round 1 started with coords: -62.97541639999999, 48.73125899999999, time: 30s
[2025-04-21T20:44:21.986Z] [EVENT] Recorded game event: ROUND_STARTED
{
  "player": "A",
  "round": 1,
  "time": 30,
  "coordinates": {
    "lat": -62.97541639999999,
    "lon": 48.73125899999999
  },
  "activeActionCards": {
    "a923ed9f-3e5e-4ea4-b061-1f47d540b40c": [],
    "40a28505-47d9-4690-8379-e469aeeb8ee2": []
  }
}

[2025-04-21T20:44:21.986Z] [TIMER] [A] Starting guess timer for 30 seconds (startGuessTimer flag received)
[2025-04-21T20:44:21.986Z] [TIMER] Starting guess timer with 30 seconds
[2025-04-21T20:44:21.986Z] [EVENT] Recorded game event: GUESS_TIMER_STARTED
{
  "timeLimit": 30,
  "timestamp": 1745268261986
}

[2025-04-21T20:44:21.986Z] [TIMER] [A] Setting timer to signal round time expired in 31s
[2025-04-21T20:44:21.987Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:44:21.987Z] [STATE] [B] Updating game state
[2025-04-21T20:44:21.987Z] [STATE] [B] Active round card updated to: flash-a923ed9f
[2025-04-21T20:44:21.987Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:44:21.987Z] [STATE] [B] Guess location updated: lat=-62.97541639999999, lon=48.73125899999999
[2025-04-21T20:44:21.987Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "GUESS",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 0,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 48.73125899999999,
      "lat": -62.97541639999999
    },
    "time": 30
  },
  "activeRoundCard": "flash-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:21.987Z] [STATE] [B] Guessing phase, time: 30s, coords: -62.97541639999999,48.73125899999999
[2025-04-21T20:44:21.987Z] [TIMER] [B] Will submit automatic guess in 3.0532122407883824s
[2025-04-21T20:44:21.988Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:44:21.988Z] [STATE] [A] Updating game state
[2025-04-21T20:44:21.988Z] [STATE] [A] Active round card updated to: flash-a923ed9f
[2025-04-21T20:44:21.988Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:44:21.988Z] [STATE] [A] Guess location updated: lat=-62.97541639999999, lon=48.73125899999999
[2025-04-21T20:44:21.988Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "GUESS",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 0,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 48.73125899999999,
      "lat": -62.97541639999999
    },
    "time": 30
  },
  "activeRoundCard": "flash-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:21.988Z] [STATE] [A] Guessing phase, time: 30s, coords: -62.97541639999999,48.73125899999999
[2025-04-21T20:44:21.988Z] [TIMER] [A] Will submit automatic guess in 4.54025266630928s
[2025-04-21T20:44:25.041Z] [GUESS] [B] Submitting automatic guess: -64.18253875565979, 47.52413664434018
[2025-04-21T20:44:25.041Z] [EVENT] Recorded game event: SUBMITTING_GUESS
{
  "player": "B",
  "latitude": -64.18253875565979,
  "longitude": 47.52413664434018
}

[2025-04-21T20:44:26.529Z] [GUESS] [A] Submitting automatic guess: -60.311714580665715, 51.394960819334266
[2025-04-21T20:44:26.529Z] [EVENT] Recorded game event: SUBMITTING_GUESS
{
  "player": "A",
  "latitude": -60.311714580665715,
  "longitude": 51.394960819334266
}

[2025-04-21T20:44:26.990Z] [TIMER] Guess timer: 25s remaining
[2025-04-21T20:44:31.994Z] [TIMER] Guess timer: 20s remaining
[2025-04-21T20:44:37.001Z] [TIMER] Guess timer: 15s remaining
[2025-04-21T20:44:42.005Z] [TIMER] Guess timer: 10s remaining
[2025-04-21T20:44:47.012Z] [TIMER] Guess timer: 5s remaining
[2025-04-21T20:44:48.014Z] [TIMER] Guess timer: 4s remaining
[2025-04-21T20:44:49.015Z] [TIMER] Guess timer: 3s remaining
[2025-04-21T20:44:50.015Z] [TIMER] Guess timer: 2s remaining
[2025-04-21T20:44:51.014Z] [TIMER] Guess timer: 1s remaining
[2025-04-21T20:44:52.015Z] [TIMER] Guess timer: 0s remaining
[2025-04-21T20:44:52.016Z] [TIMER] Guess timer expired!
[2025-04-21T20:44:52.988Z] [PHASE] [A] Signaling round time expired to determine round winner
[2025-04-21T20:44:52.988Z] [EVENT] Recorded game event: ROUND_TIME_EXPIRED
{
  "player": "A"
}

[2025-04-21T20:44:53.489Z] [PHASE] [A] Sent round-time-expired message to server
[2025-04-21T20:44:53.519Z] [DEBUG] [B] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":108.731259,"distance":6244672,"username":"wini","latitude":-22.975416399999993,"round":1},"timestamp":"2025-04-21T20:44:53.496926132Z"}
[2025-04-21T20:44:53.519Z] [INFO] [B] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:53.519Z] [EVENT] [B] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.519Z] [WARN] [B] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.519Z] [DEBUG] [A] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":108.731259,"distance":6244672,"username":"wini","latitude":-22.975416399999993,"round":1},"timestamp":"2025-04-21T20:44:53.496926132Z"}
[2025-04-21T20:44:53.520Z] [INFO] [A] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [EVENT] [A] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [WARN] [A] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [DEBUG] [B] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":108.731259,"distance":6244672,"username":"ninana","latitude":-22.975416399999993,"round":1},"timestamp":"2025-04-21T20:44:53.507048832Z"}
[2025-04-21T20:44:53.520Z] [INFO] [B] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [EVENT] [B] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [WARN] [B] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [DEBUG] [A] Raw WebSocket message: {"type":"GUESS_SUBMITTED","payload":{"longitude":108.731259,"distance":6244672,"username":"ninana","latitude":-22.975416399999993,"round":1},"timestamp":"2025-04-21T20:44:53.507048832Z"}
[2025-04-21T20:44:53.520Z] [INFO] [A] <<< TOPIC: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [EVENT] [A] Processing event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.520Z] [WARN] [A] Unhandled event type: GUESS_SUBMITTED
[2025-04-21T20:44:53.531Z] [DEBUG] [B] Raw WebSocket message: {"type":"ROUND_WINNER","winnerUsername":"ninana","round":1,"distance":6244672}
[2025-04-21T20:44:53.531Z] [BROADCAST] [B] <<< STRUCTURED BROADCAST: ROUND_WINNER
[2025-04-21T20:44:53.531Z] [EVENT] [B] Processing event type: ROUND_WINNER
[2025-04-21T20:44:53.531Z] [GAME] [B] Round winner: ninana with distance 6244672m in round 1
[2025-04-21T20:44:53.531Z] [EVENT] Recorded game event: ROUND_WINNER
{
  "player": "B",
  "username": "ninana",
  "round": 1,
  "distance": 6244672
}

[2025-04-21T20:44:53.531Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:53.531Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:53.531Z] [RESET] Reset all command locks for new round
[2025-04-21T20:44:53.531Z] [TIMER] Cleared all timers
[2025-04-21T20:44:53.532Z] [DEBUG] [A] Raw WebSocket message: {"type":"ROUND_WINNER","winnerUsername":"ninana","round":1,"distance":6244672}
[2025-04-21T20:44:53.532Z] [BROADCAST] [A] <<< STRUCTURED BROADCAST: ROUND_WINNER
[2025-04-21T20:44:53.532Z] [EVENT] [A] Processing event type: ROUND_WINNER
[2025-04-21T20:44:53.532Z] [GAME] [A] Round winner: ninana with distance 6244672m in round 1
[2025-04-21T20:44:53.532Z] [EVENT] Recorded game event: ROUND_WINNER
{
  "player": "A",
  "username": "ninana",
  "round": 1,
  "distance": 6244672
}

[2025-04-21T20:44:53.532Z] [INFO] Reset action card tracking for new round
[2025-04-21T20:44:53.532Z] [INFO] Reset guess tracking for new round
[2025-04-21T20:44:53.532Z] [RESET] Reset all command locks for new round
[2025-04-21T20:44:53.532Z] [TIMER] Cleared all timers
[2025-04-21T20:44:53.532Z] [DEBUG] [B] Raw WebSocket message: {"type":"GAME_WINNER","winnerUsername":"ninana"}
[2025-04-21T20:44:53.532Z] [BROADCAST] [B] <<< STRUCTURED BROADCAST: GAME_WINNER
[2025-04-21T20:44:53.533Z] [EVENT] [B] Processing event type: GAME_WINNER
[2025-04-21T20:44:53.533Z] [GAME] [B] Game winner: undefined
[2025-04-21T20:44:53.533Z] [EVENT] Recorded game event: GAME_WINNER
{
  "player": "B"
}

[2025-04-21T20:44:53.533Z] [TIMER] Cleared all timers
[2025-04-21T20:44:53.533Z] [DEBUG] [A] Raw WebSocket message: {"type":"GAME_WINNER","winnerUsername":"ninana"}
[2025-04-21T20:44:53.533Z] [BROADCAST] [A] <<< STRUCTURED BROADCAST: GAME_WINNER
[2025-04-21T20:44:53.533Z] [EVENT] [A] Processing event type: GAME_WINNER
[2025-04-21T20:44:53.533Z] [GAME] [A] Game winner: undefined
[2025-04-21T20:44:53.533Z] [EVENT] Recorded game event: GAME_WINNER
{
  "player": "A"
}

[2025-04-21T20:44:53.533Z] [TIMER] Cleared all timers
[2025-04-21T20:44:53.533Z] [STATE] [B] Received state message: GAME_STATE
[2025-04-21T20:44:53.533Z] [STATE] [B] Updating game state
[2025-04-21T20:44:53.534Z] [STATE] [B] Active round card updated to: flash-a923ed9f
[2025-04-21T20:44:53.534Z] [STATE] [B] Round card submitter updated: ninana
[2025-04-21T20:44:53.534Z] [STATE] [B] Guess location updated: lat=-62.97541639999999, lon=48.73125899999999
[2025-04-21T20:44:53.534Z] [STATE] Recorded game state from B-update
{
  "currentRound": 1,
  "currentScreen": "GAMEOVER",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 0,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 48.73125899999999,
      "lat": -62.97541639999999
    },
    "time": 30
  },
  "activeRoundCard": "flash-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:53.534Z] [STATE] [B] Game over
[2025-04-21T20:44:53.534Z] [TIMER] Cleared all timers
[2025-04-21T20:44:53.534Z] [STATE] [A] Received state message: GAME_STATE
[2025-04-21T20:44:53.534Z] [STATE] [A] Updating game state
[2025-04-21T20:44:53.534Z] [STATE] [A] Active round card updated to: flash-a923ed9f
[2025-04-21T20:44:53.534Z] [STATE] [A] Round card submitter updated: ninana
[2025-04-21T20:44:53.534Z] [STATE] [A] Guess location updated: lat=-62.97541639999999, lon=48.73125899999999
[2025-04-21T20:44:53.534Z] [STATE] Recorded game state from A-update
{
  "currentRound": 1,
  "currentScreen": "GAMEOVER",
  "roundCardSubmitter": "ninana",
  "players": [
    {
      "activeActionCards": [],
      "roundCardsLeft": 0,
      "actionCardsLeft": 1,
      "username": "ninana"
    },
    {
      "activeActionCards": [],
      "roundCardsLeft": 2,
      "actionCardsLeft": 1,
      "username": "wini"
    }
  ],
  "inventory": {
    "roundCards": [
      "world-40a28505",
      "flash-40a28505"
    ],
    "actionCards": [
      "7choices"
    ]
  },
  "guessScreenAttributes": {
    "guessLocation": {
      "lon": 48.73125899999999,
      "lat": -62.97541639999999
    },
    "time": 30
  },
  "activeRoundCard": "flash-a923ed9f",
  "currentTurnPlayerToken": "a923ed9f-3e5e-4ea4-b061-1f47d540b40c"
}

[2025-04-21T20:44:53.534Z] [STATE] [A] Game over
[2025-04-21T20:44:53.534Z] [TIMER] Cleared all timers
[2025-04-21T20:44:54.536Z] [INFO] Complete game history written to /home/dariast/SoPra/sopra-fs25-group-15-server/logs/game-history-2025-04-21T20-42-59-466Z.json
[2025-04-21T20:51:56.014Z] [CONNECT] [B] Connecting to WebSocket...
[2025-04-21T20:51:56.017Z] [CONNECT] [A] Connecting to WebSocket...
[2025-04-21T20:51:56.020Z] [ERROR] [B] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:51:56.021Z] [ERROR] [A] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:51:59.023Z] [CONNECT] [B] Connecting to WebSocket...
[2025-04-21T20:51:59.024Z] [CONNECT] [A] Connecting to WebSocket...
[2025-04-21T20:51:59.053Z] [ERROR] [B] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:51:59.053Z] [ERROR] [A] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:02.057Z] [CONNECT] [B] Connecting to WebSocket...
[2025-04-21T20:52:02.057Z] [CONNECT] [A] Connecting to WebSocket...
[2025-04-21T20:52:02.058Z] [ERROR] [B] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:02.059Z] [ERROR] [A] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:05.062Z] [CONNECT] [B] Connecting to WebSocket...
[2025-04-21T20:52:05.064Z] [CONNECT] [A] Connecting to WebSocket...
[2025-04-21T20:52:05.065Z] [ERROR] [B] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:05.065Z] [ERROR] [A] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:08.068Z] [CONNECT] [B] Connecting to WebSocket...
[2025-04-21T20:52:08.069Z] [CONNECT] [A] Connecting to WebSocket...
[2025-04-21T20:52:08.070Z] [ERROR] [B] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:08.070Z] [ERROR] [A] WebSocket error: connect ECONNREFUSED 127.0.0.1:8080
[2025-04-21T20:52:09.617Z] [EXIT] Received SIGINT. Writing final logs before exit...
[2025-04-21T20:52:09.618Z] [INFO] Complete game history written to /home/dariast/SoPra/sopra-fs25-group-15-server/logs/game-history-2025-04-21T20-42-59-466Z.json
[2025-04-21T20:52:09.618Z] [EXIT] Process exiting with code 0
[2025-04-21T20:52:09.619Z] [SUMMARY] Total game time: 550.2s
